# ‚úÖ –ü—Ä–æ–µ–∫—Ç –≥–æ—Ç–æ–≤ –∫ –¥–µ–ø–ª–æ—é –Ω–∞ VPS

## –ü—Ä–æ–≤–µ—Ä–∫–∞ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏

### ‚úÖ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
- [x] `prisma/schema.prisma` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç **MySQL** (`provider = "mysql"`)
- [x] `DATABASE_URL` –Ω–∞—Å—Ç—Ä–æ–µ–Ω —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
- [x] Seed —Å–∫—Ä–∏–ø—Ç —Å–æ–∑–¥–∞—ë—Ç —Ä–µ–∞–ª—å–Ω–æ–≥–æ –∞–¥–º–∏–Ω–∞ (`admin` / `Admin2024!Secure`)

### ‚úÖ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Next.js
- [x] `next.config.mjs` –≤–∫–ª—é—á–∞–µ—Ç **standalone** —Ä–µ–∂–∏–º –¥–ª—è –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–≥–æ –¥–µ–ø–ª–æ—è
- [x] Build —Å–∫—Ä–∏–ø—Ç: `prisma generate && next build`
- [x] Postinstall –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç Prisma Client

### ‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
- [x] –£–±—Ä–∞–Ω –≤–µ—Å—å –¥–µ–º–æ-—Ç–µ–∫—Å—Ç –∏–∑ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
- [x] –†–µ–∞–ª—å–Ω—ã–µ —É—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∞–¥–º–∏–Ω–∞ –≤ seed
- [x] `.gitignore` –∏—Å–∫–ª—é—á–∞–µ—Ç `.env.local`, `node_modules`, `.next`

### ‚úÖ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- [x] `VPS_DEPLOY.md` - –ø–æ–ª–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –¥–ª—è –¥–µ–ø–ª–æ—è
- [x] `.env.example` - –ø—Ä–∏–º–µ—Ä –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

---

## üì¶ –ß—Ç–æ –Ω—É–∂–Ω–æ –∑–∞–≥—Ä—É–∑–∏—Ç—å –Ω–∞ —Å–µ—Ä–≤–µ—Ä

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ì–æ—Ç–æ–≤—ã–π build (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

**–õ–æ–∫–∞–ª—å–Ω–æ –≤—ã–ø–æ–ª–Ω–∏:**

```bash
# 1. –£—Å—Ç–∞–Ω–æ–≤–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
npm ci

# 2. –°–æ–±–µ—Ä–∏ –ø—Ä–æ–µ–∫—Ç
export DATABASE_URL="mysql://user:pass@localhost:3306/db"
export NEXTAUTH_URL="https://—Ç–≤–æ–π-–¥–æ–º–µ–Ω.ru"
export NEXTAUTH_SECRET="—Ç–≤–æ–π-—Å–µ–∫—Ä–µ—Ç"
npm run build

# 3. –°–∫–æ–ø–∏—Ä—É–π —Å—Ç–∞—Ç–∏–∫—É –≤ standalone
cp -r public .next/standalone/
cp -r .next/static .next/standalone/.next/
```

**–ó–∞–≥—Ä—É–∑–∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä:**
- –í—Å—ë —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ `.next/standalone/` ‚Üí `/var/www/dashboard/`
- –ü–∞–ø–∫—É `prisma/` ‚Üí `/var/www/dashboard/prisma/`
- –§–∞–π–ª `package.json` ‚Üí `/var/www/dashboard/package.json`

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥ (–¥–ª—è Git –¥–µ–ø–ª–æ—è)

**–ó–∞–≥—Ä—É–∑–∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä:**
- –í–µ—Å—å –ø—Ä–æ–µ–∫—Ç (—á–µ—Ä–µ–∑ Git clone)
- –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ –≤—ã–ø–æ–ª–Ω–∏: `npm ci --omit=dev && npm run build`

---

## üîê –î–∞–Ω–Ω—ã–µ –¥–ª—è –≤—Ö–æ–¥–∞ –ø–æ—Å–ª–µ –¥–µ–ø–ª–æ—è

- **–õ–æ–≥–∏–Ω:** `admin`
- **–ü–∞—Ä–æ–ª—å:** `Admin2024!Secure`

---

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

1. **–°–æ–∑–¥–∞–π MySQL –±–∞–∑—É:**
   ```sql
   CREATE DATABASE dashboard_db;
   CREATE USER 'dashboard_user'@'localhost' IDENTIFIED BY '–ø–∞—Ä–æ–ª—å';
   GRANT ALL ON dashboard_db.* TO 'dashboard_user'@'localhost';
   ```

2. **–°–æ–∑–¥–∞–π `.env` —Ñ–∞–π–ª:**
   ```env
   DATABASE_URL="mysql://dashboard_user:–ø–∞—Ä–æ–ª—å@localhost:3306/dashboard_db"
   NEXTAUTH_URL="https://—Ç–≤–æ–π-–¥–æ–º–µ–Ω.ru"
   NEXTAUTH_SECRET="—Å–ª—É—á–∞–π–Ω–∞—è-—Å—Ç—Ä–æ–∫–∞-32-—Å–∏–º–≤–æ–ª–∞"
   NODE_ENV="production"
   PORT=3000
   ```

3. **–ü—Ä–∏–º–µ–Ω–∏ –º–∏–≥—Ä–∞—Ü–∏–∏ –∏ —Å–æ–∑–¥–∞–π –∞–¥–º–∏–Ω–∞:**
   ```bash
   npx prisma migrate deploy
   npx prisma db seed
   ```

4. **–ó–∞–ø—É—Å—Ç–∏ —á–µ—Ä–µ–∑ PM2:**
   ```bash
   pm2 start .next/standalone/server.js --name dashboard
   pm2 save
   ```

5. **–ù–∞—Å—Ç—Ä–æ–π Nginx** (—Å–º. `VPS_DEPLOY.md`)

---

## ‚úÖ –§–∏–Ω–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—Ä–µ–¥ –¥–µ–ø–ª–æ–µ–º

- [ ] –ü—Ä–æ–µ–∫—Ç —Å–æ–±–∏—Ä–∞–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫: `npm run build`
- [ ] –ù–µ—Ç TypeScript –æ—à–∏–±–æ–∫: `npm run lint`
- [ ] `.env.example` —Å–æ–¥–µ—Ä–∂–∏—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –ø—Ä–∏–º–µ—Ä—ã
- [ ] –í—Å–µ —Å–µ–∫—Ä–µ—Ç—ã —É–¥–∞–ª–µ–Ω—ã –∏–∑ –∫–æ–¥–∞ (—Ç–æ–ª—å–∫–æ –≤ `.env`)
- [ ] Git —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π —á–∏—Å—Ç (–Ω–µ—Ç –ª–∏—à–Ω–∏—Ö —Ñ–∞–π–ª–æ–≤)

---

## üìù –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. –ü—Ä–æ—á–∏—Ç–∞–π **`VPS_DEPLOY.md`** –¥–ª—è –¥–µ—Ç–∞–ª—å–Ω–æ–π –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏
2. –ü–æ–¥–≥–æ—Ç–æ–≤—å VPS —Å–µ—Ä–≤–µ—Ä (Node.js, MySQL, Nginx)
3. –ó–∞–≥—Ä—É–∑–∏ —Ñ–∞–π–ª—ã –Ω–∞ —Å–µ—Ä–≤–µ—Ä
4. –ù–∞—Å—Ç—Ä–æ–π –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
5. –ü—Ä–∏–º–µ–Ω–∏ –º–∏–≥—Ä–∞—Ü–∏–∏ –∏ –∑–∞–ø—É—Å—Ç–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

**–ü—Ä–æ–µ–∫—Ç –≥–æ—Ç–æ–≤ –∫ –¥–µ–ø–ª–æ—é! üéâ**
